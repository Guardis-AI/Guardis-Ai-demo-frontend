"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[783],{1783:(y,p,s)=>{s.r(p),s.d(p,{ViewnotificationsModule:()=>w});var u=s(6895),d=s(2510),_=s(7579),t=s(4650),f=s(6935),h=s(1481);function v(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"video",15),t._UZ(3,"source",16),t._uU(4," Browser not supported "),t.qZA(),t.TgZ(5,"div",17),t._uU(6," Camera 1 / Port 554 "),t.TgZ(7,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.playHardcodedVideo("assets/demo-videos/camera5-clip.mp4"))}),t.TgZ(8,"button",19)(9,"div",20),t._UZ(10,"img",21),t.qZA()()()()(),t.TgZ(11,"div",14)(12,"video",15),t._UZ(13,"source",22),t._uU(14," Browser not supported "),t.qZA(),t.TgZ(15,"div",17),t._uU(16," Camera 3 / Port 554 "),t.TgZ(17,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.playHardcodedVideo("assets/demo-videos/cashier_20230529_10_15_34_468_theft.mp4"))}),t.TgZ(18,"button",19)(19,"div",20),t._UZ(20,"img",21),t.qZA()()()()(),t.TgZ(21,"div",14)(22,"video",15),t._UZ(23,"source",7),t._uU(24," Browser not supported "),t.qZA(),t.TgZ(25,"div",17),t._uU(26," Camera 2 / Port 554 "),t.TgZ(27,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.playHardcodedVideo("assets/demo-videos/cashier22_20230608_16_23_47_713_theft.mp4"))}),t.TgZ(28,"button",19)(29,"div",20),t._UZ(30,"img",21),t.qZA()()()()(),t.TgZ(31,"div",14)(32,"video",15),t._UZ(33,"source",23),t._uU(34," Browser not supported "),t.qZA(),t.TgZ(35,"div",17),t._uU(36," Camera 4 / Port 5554 "),t.TgZ(37,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.playHardcodedVideo("assets/demo-videos/corner_20230529_10_23_01_878_theft.mp4"))}),t.TgZ(38,"button",19)(39,"div",20),t._UZ(40,"img",21),t.qZA()()()()()()}}let g=(()=>{class o{constructor(e,i,n,a,C,m){this._streamService=e,this.sanitizer=i,this._router=n,this.route=a,this.activatedRoute=C,this.el=m,this.detailid="",this.cfurl=localStorage.getItem("cfUrl"),this.sidebarShow=!0,this.vdata={videolink:""},this.fileUrl="https://guardisai.knstek.com/",this.notificationlist=[{notification_log_id:"1",filepath:"src/assets/demo-videos/cashier22_20230608_16_23_47_713_theft.mp4",filename:"cashier22_20230608_16_23_47_713_theft.mp4"}],this.currentRoute="",this.NotiLogId="",this.Notivideo="",this._unsubscribeAll=new _.x,this.player=videojs.getPlayers(),this.currentRoute="",this.activatedRoute.data.subscribe(({})=>{console.log("From constructor"),console.log("notificationlist"),console.log(this.notificationlist)});const M=this.route.snapshot.paramMap.get("id");console.log("id"+M),this._router.events.subscribe(c=>{if(c instanceof d.OD){console.log("Route change detected"),this.currentRoute=c.url;const l=c.url.split("/");this.NotiLogId=l[l.length-1]}if(c instanceof d.m2){console.log("nav end"),this.currentRoute=c.url;const l=c.url.split("/");this.NotiLogId=l[l.length-1],this.ngAfterViewInit()}c instanceof d.Q3&&console.log(c.error),this.player=!1,this.video=m.nativeElement})}ngOnInit(){}ngAfterViewInit(){}sanitize(e){return this.sanitizer.bypassSecurityTrustUrl(e)}playClip(e){this.player=videojs(document.getElementById("sxmvideo")),""!=e&&(this.selNoti=this.notificationlist.find(n=>n.notification_log_id==e),this.selNoti&&(this.Notivideo=this.cfurl+"get_video?path="+this.selNoti.filepath+"&filename="+this.selNoti.filename,this.Notivideo="src/assets/demo-videos/cashier22_20230608_16_23_47_713_theft.mp4",console.log("Notivideo"),console.log(this.Notivideo),this.vdata={videolink:this.Notivideo},this.player.src({src:this.Notivideo})))}playHardcodedVideo(e){this.el.nativeElement.querySelector("video").src=e}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.G),t.Y36(h.H7),t.Y36(d.F0),t.Y36(d.gz),t.Y36(d.gz),t.Y36(t.SBq))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-viewnotifications"]],decls:14,vars:3,consts:[[1,"flex","flex-col","sm:flex-row","items-center","md:items-start","sm:justify-center","md:justify-start","flex-auto","min-w-0","mr-4"],[1,"md:flex","md:justify-start","w-full","sm:w-5/6","md:h-100","md:w-5/6","pb-8","px-4","sm:p-10","md:px-16","sm:rounded-2xl","md:rounded-none","sm:shadow","md:shadow-none","sm:bg-card"],[1,"w-full","max-w-full","sm:w-full","mx-auto","sm:mx-0"],[1,"flex-col","sm:w-full","md:w-full","lg:w-full"],[2,"box-shadow","0px 16px 0px #9ca3af","border-radius","40px"],[2,"box-shadow","0px 9px 0px #6b7280","border-radius","30px"],["controls","","autoplay","",1,"video-js","vjs-default-skin","sm:w-full","md:w-full","lg:w-full",2,"height","65vh","border-radius","20px"],["src","assets/demo-videos/cashier22_20230608_16_23_47_713_theft.mp4","type","video/mp4"],[1,"sidebar-slider","w-1/5"],["mat-dialog-close","",1,"sidebar-close",2,"padding-right","290px","background-color","#26272f","height","80px","border-radius","60px",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 4.5l7.5 7.5-7.5 7.5"],[1,"relative","w-full","justify-center","overflow-scroll","dark:border-l","pl-3"],[4,"ngFor","ngForOf"],[1,"flex","w-full","justify-center","mt-4"],["data-setup",'{"liveui": true}',"id","playbkvideo_1",1,"video-js","vjs-default-skin","sm:w-full","md:w-full","lg:w-full",2,"border-radius","15px","width","200px","height","72px"],["src","assets/demo-videos/camera5-clip.mp4","type","video/mp4"],[1,"text-[12px]","pl-1","text-white","w-full","playdiv","my-1","p-2"],[1,"btn","btn-warning",2,"float","right",3,"click"],["title","Click Here",1,"w-7","h-7","rounded-full","focus:outline-none"],[1,"w-full"],["src","assets/images/logo/button.png"],["src","assets/demo-videos/cashier_20230529_10_15_34_468_theft.mp4","type","video/mp4"],["src","assets/demo-videos/corner_20230529_10_23_01_878_theft.mp4","type","video/mp4"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"video",6),t._UZ(7,"source",7),t.qZA()()()()()(),t.TgZ(8,"div",8)(9,"button",9),t.NdJ("click",function(){return i.sidebarShow=!i.sidebarShow}),t.O4$(),t.TgZ(10,"svg",10),t._UZ(11,"path",11),t.qZA()(),t.kcU(),t.TgZ(12,"div",12),t.YNc(13,v,41,0,"div",13),t.qZA()()()),2&e&&(t.xp6(8),t.ekj("sidebar-slide-in",i.sidebarShow),t.xp6(5),t.Q6J("ngForOf",i.notificationlist))},dependencies:[u.sg],styles:["video[_ngcontent-%COMP%]{object-fit:fill}.highlight[_ngcontent-%COMP%]{background-color:#d3d3d3}table.custActivetb[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.gap-4[_ngcontent-%COMP%]{gap:1rem}.mat-tooltip[_ngcontent-%COMP%]{white-space:pre-line!important}*[_ngcontent-%COMP%]{box-sizing:border-box;font-size:12px}.sidebar-opener[_ngcontent-%COMP%]{cursor:pointer}.sidebar-slider[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;background-color:#26272f;transform:translate(100%);transition:ease-in-out .3s transform;width:300px;height:full;border-radius:10px;border:solid 1px #cbd5e1;z-index:50}.sidebar-slider.sidebar-slide-in[_ngcontent-%COMP%]{transform:translate(0);transition:ease-in-out .6s transform}.sidebar-close[_ngcontent-%COMP%]{position:fixed;top:.5;right:0;color:#cbd5e1;cursor:pointer;padding:5px;z-index:-10px}.sidebar-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex-direction:column;color:#000;font-size:16px;padding:16px;height:80%}p[_ngcontent-%COMP%]{font-family:Lato}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.md-drppicker[_ngcontent-%COMP%]{top:50px!important;left:-200px!important;width:600px!important;height:320px}.md-drppicker[_ngcontent-%COMP%]   .ranges[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20px;height:30px;background:none;border:none;text-align:top;cursor:pointer}.md-drppicker[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;overflow:hidden;border-width:0;outline:none;padding:0 2px;cursor:pointer;border-radius:2px;box-shadow:0 1px 4px #0009;background-color:#3f51b5;color:#ecf0f1;transition:background-color .4s;height:auto;text-transform:uppercase;line-height:36px;border:none;width:100px;border:solid 1px #cbd5e1}.md-drppicker[_ngcontent-%COMP%]   .ranges[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;width:40%;background:none;border:none;text-align:left;cursor:pointer}.md-drppicker[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;box-sizing:border-box;font-size:12px}.mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding-right:80px}.a[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{width:30px;height:17px}input[_ngcontent-%COMP%]{color-scheme:dark;padding-right:50px}.mat-icon-button[_ngcontent-%COMP%]{padding-top:10px!important}"],changeDetection:0}),o})();var b=s(4006);const x=[{path:"",component:g,resolve:{notilist:(()=>{class o{constructor(e){this._streamService=e}resolve(e,i){const n={p_user_id:localStorage.getItem("userId"),p_device_token:"",p_device_type:"",p_device_id:"",login_user_id:localStorage.getItem("userId"),p_notification_log_id:"",p_read_flag:"N"},a=this._streamService.getNotificationList(n);return console.log(a),this._streamService.getNotificationList(n)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(f.G))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},children:[{path:":id",component:g}]}];let w=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(x),u.ez,b.u5]}),o})()}}]);